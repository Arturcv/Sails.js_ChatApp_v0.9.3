<h2>Welcome <%= username %></h2>
<div id="chatContainer">
  <div id="newMessageForm">
    <textarea id="message" placeholder="Enter your message here:"></textarea>
    <button id="postMessageButton">Add Message</button>
  </div>
  <div id="messagesContainer">
    <script type="text/template" id="messageTemplate">
      <p><b>{{ username }}: </b>{{ message }}</p>
    </script>
  </div>
</div>

<!-- Use requirejs to load require conifig file and the necessary modules -->
<script type="text/javascript">
  require(['js/require_config'], function() {
    // Requiring sails.io-amd will also bring in socket.io
    // and add some convenience logic to it.
    require(['sails.io-amd', 'chat']);
  });
</script>